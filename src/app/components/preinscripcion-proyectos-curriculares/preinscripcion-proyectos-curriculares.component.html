<mat-card class="mt-20">

    <mat-card-header class="mt-20 center-header">
        <mat-card-title>
            {{"preinscripcion-proyectos-curriculares.titulo" | translate}}
        </mat-card-title>
    </mat-card-header>

    <mat-card-content class=" mt-20 form-grid3 ">

        <mat-form-field class="form-item">
            <mat-label>
                {{"preinscripcion-proyectos-curriculares.primer_nombre" | translate}}:
            </mat-label>
            <input type="text" matInput [formControl]="primerNombre">
            <mat-error *ngIf="segundoNombre.hasError('required')">{{ 'admision.erro_selec_nivel' | translate
                }}</mat-error>
        </mat-form-field>

        <mat-form-field class="form-item">
            <mat-label>
                {{"preinscripcion-proyectos-curriculares.segundo_nombre" | translate}}:
            </mat-label>
            <input type="text" matInput [formControl]="segundoNombre">
            <mat-error *ngIf="segundoNombre.hasError('required')">{{ 'admision.erro_selec_nivel' | translate
                }}</mat-error>
        </mat-form-field>

        <mat-form-field class="form-item">
            <mat-label>
                {{"preinscripcion-proyectos-curriculares.primer_apellido" | translate}}:
            </mat-label>
            <input type="text" matInput [formControl]="primerApellido">
            <mat-error *ngIf="segundoNombre.hasError('required')">{{ 'admision.erro_selec_nivel' | translate
                }}</mat-error>
        </mat-form-field>

        <mat-form-field class="form-item">
            <mat-label>
                {{"preinscripcion-proyectos-curriculares.segundo_apellido" | translate}}:
            </mat-label>
            <input type="text" matInput [formControl]="segundoApellido">
            <mat-error *ngIf="segundoNombre.hasError('required')">{{ 'admision.erro_selec_nivel' | translate
                }}</mat-error>
        </mat-form-field>

        <mat-form-field class="form-item">
            <mat-label>
                {{"preinscripcion-proyectos-curriculares.tipo_documento" | translate}}:
            </mat-label>
            <input type="number" matInput [formControl]="tipoDocumento">
            <mat-error *ngIf="segundoNombre.hasError('required')">{{ 'admision.erro_selec_nivel' | translate
                }}</mat-error>
        </mat-form-field>

        <mat-form-field class="form-item">
            <mat-label>
                {{"preinscripcion-proyectos-curriculares.numero_documento" | translate}}:
            </mat-label>
            <input type="number" matInput [formControl]="numeroDocumento">
            <mat-error *ngIf="segundoNombre.hasError('required')">{{ 'admision.erro_selec_nivel' | translate
                }}</mat-error>
        </mat-form-field>

        <mat-form-field class="form-item">
            <mat-label>
                {{"preinscripcion-proyectos-curriculares.fecha_expedicion" | translate}}:
            </mat-label>
            <input type="datetime" matInput [formControl]="fechaExpedicion">
            <mat-error *ngIf="segundoNombre.hasError('required')">{{ 'admision.erro_selec_nivel' | translate
                }}</mat-error>
        </mat-form-field>

        <mat-form-field class="form-item">
            <mat-label>
                {{"preinscripcion-proyectos-curriculares.fecha_nacimiento" | translate}}:
            </mat-label>
            <input type="datetime" matInput [formControl]="fechaNacimiento">
            <mat-error *ngIf="segundoNombre.hasError('required')">{{ 'admision.erro_selec_nivel' | translate
                }}</mat-error>
        </mat-form-field>

        <mat-form-field class="form-item">
            <mat-label>
                {{"preinscripcion-proyectos-curriculares.sexo" | translate}}:
            </mat-label>
            <input matInput [formControl]="sexo">
            <mat-error *ngIf="segundoNombre.hasError('required')">{{ 'admision.erro_selec_nivel' | translate
                }}</mat-error>
        </mat-form-field>

        <mat-form-field class="form-item">
            <mat-label>
                {{"preinscripcion-proyectos-curriculares.correo_eletronico" | translate}}:
            </mat-label>
            <input type="email" matInput [formControl]="correoElectronico">
            <mat-error *ngIf="segundoNombre.hasError('required')">{{ 'admision.erro_selec_nivel' | translate
                }}</mat-error>
        </mat-form-field>

        <mat-form-field class="form-item">
            <mat-label>
                {{"preinscripcion-proyectos-curriculares.telefono" | translate}}:
            </mat-label>
            <input type="number" matInput [formControl]="telefono">
            <mat-error *ngIf="segundoNombre.hasError('required')">{{ 'admision.erro_selec_nivel' | translate
                }}</mat-error>
        </mat-form-field>

    </mat-card-content>

</mat-card>


<mat-card class="mt-20" *ngIf="mostrarPreinscripcion">

    <mat-card-header class="mt-20">
        <mat-card-title>
            {{"preinscripcion-proyectos-curriculares.listado_preinscripciones" | translate}}
        </mat-card-title>
    </mat-card-header>

    <mat-card-header class="mt-20">
        <section>
            {{ "preinscripcion-proyectos-curriculares.alerta" | translate }}
        </section>
    </mat-card-header>

    <mat-card-content class="mt-20">

        <section>
            {{ "preinscripcion-proyectos-curriculares.pin" | translate }}
        </section>

        <table mat-table [dataSource]="datasourcePreinscipcion" class=" mt-20 mat-elevation-z8">

            <ng-container matColumnDef="recibo">
                <th mat-header-cell *matHeaderCellDef>
                    {{"preinscripcion-proyectos-curriculares.recibo" | translate}}
                </th>
                <td mat-cell *matCellDef="let element"> {{element.ReciboInscripcion}} </td>
            </ng-container>

            <ng-container matColumnDef="inscripcion">
                <th mat-header-cell *matHeaderCellDef>
                    {{"preinscripcion-proyectos-curriculares.inscripcion" |
                    translate}} </th>
                <td mat-cell *matCellDef="let element"> {{element. Id}} </td>
            </ng-container>

            <ng-container matColumnDef="nivel">
                <th mat-header-cell *matHeaderCellDef>
                    {{"preinscripcion-proyectos-curriculares.nivel" | translate}}
                </th>
                <td mat-cell *matCellDef="let element"> {{element.ProyectoAcademico.NivelFormacionId.Nombre}} </td>
            </ng-container>


            <ng-container matColumnDef="tipo_inscripcion">
                <th mat-header-cell *matHeaderCellDef>
                    {{"preinscripcion-proyectos-curriculares.tipo_inscripcion" |translate}}</th>
                <td mat-cell *matCellDef="let element"> {{element.TipoInscripcionId.Nombre}} </td>
            </ng-container>

            <ng-container matColumnDef="estado_inscripcion">
                <th mat-header-cell *matHeaderCellDef>
                    {{"preinscripcion-proyectos-curriculares.estado_inscripcion" |translate}} </th>
                <td mat-cell *matCellDef="let element"> {{element.EstadoInscripcionId.Nombre}} </td>
            </ng-container>

            <ng-container matColumnDef="fecha_generacion">
                <th mat-header-cell *matHeaderCellDef>
                    {{"preinscripcion-proyectos-curriculares.fecha_generacion" |translate}} </th>
                <td mat-cell *matCellDef="let element"> {{element.FechaCreacion}} </td>
            </ng-container>

            <ng-container matColumnDef="estado_recibo">
                <th mat-header-cell *matHeaderCellDef>
                    {{"preinscripcion-proyectos-curriculares.estado_recibo" | translate}} </th>
                <td mat-cell *matCellDef="let element"> {{element.symbol}} </td>
            </ng-container>

            <ng-container matColumnDef="descargar">
                <th mat-header-cell *matHeaderCellDef>
                    {{"preinscripcion-proyectos-curriculares.descargar" | translate}}
                </th>
                <td mat-cell *matCellDef="let element">
                    <button>
                        <mat-icon>cloud_download</mat-icon>
                        <span> Visualizar recibo </span>
                    </button>
                </td>
            </ng-container>

            <ng-container matColumnDef="opcion">
                <th mat-header-cell *matHeaderCellDef>
                    {{"preinscripcion-proyectos-curriculares.opcion" | translate}}
                </th>
                <td mat-cell *matCellDef="let element">
                    <button>
                        <span>Detalle</span>
                    </button>
                </td>
            </ng-container>

            <ng-container matColumnDef="resultado">
                <th mat-header-cell *matHeaderCellDef>
                    {{"preinscripcion-proyectos-curriculares.resultado" | translate}}
                </th>
                <td mat-cell *matCellDef="let element">
                    <button (click)="InformacionDetalladaPreinscripciones(element.Id)">
                        <span>Detalle</span>
                    </button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumnsPreinscipcion"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumnsPreinscipcion;"></tr>

        </table>

        <mat-paginator #paginator [pageSize]="3" [showFirstLastButtons]="true"></mat-paginator>

        <br>

    </mat-card-content>

</mat-card>


<mat-card class="mt-20" *ngIf="detallePreinscripcion">

    <mat-card-header class="mt-20">
        <mat-card-title>
            {{"preinscripcion-proyectos-curriculares.informacion_detalle_preinscripcion" | translate}}
        </mat-card-title>
    </mat-card-header>

    <mat-card-content class="mt-20">

        <section>
            <span>
                {{"preinscripcion-proyectos-curriculares.periodo_inscrito" | translate}}: {{periodo}}
            </span>
            <span>
                {{"preinscripcion-proyectos-curriculares.nivel" | translate}}: {{nivel}}
            </span>
            <span>
                {{"preinscripcion-proyectos-curriculares.tipo_inscripcion" | translate}}: {{tipoInscripcion}}
            </span>
        </section>

        <table mat-table [dataSource]="datasourceDetallePreinscipcion" class=" mt-20 mat-elevation-z8">

            <ng-container matColumnDef="opcion">
                <th mat-header-cell *matHeaderCellDef>
                    {{"preinscripcion-proyectos-curriculares.opcion" | translate}}
                </th>
                <td mat-cell *matCellDef="let element"> {{element.position}} </td>
            </ng-container>

            <ng-container matColumnDef="credencial">
                <th mat-header-cell *matHeaderCellDef>
                    {{"preinscripcion-proyectos-curriculares.credencial" | translate}} </th>
                <td mat-cell *matCellDef="let element"> {{element.name}} </td>
            </ng-container>

            <ng-container matColumnDef="proyecto">
                <th mat-header-cell *matHeaderCellDef>
                    {{"preinscripcion-proyectos-curriculares.proyecto" | translate}}
                </th>
                <td mat-cell *matCellDef="let element"> {{element.ProyectoAcademico.Nombre}} </td>
            </ng-container>

            <ng-container matColumnDef="puntaje">
                <th mat-header-cell *matHeaderCellDef>
                    {{"preinscripcion-proyectos-curriculares.puntaje" | translate}}
                </th>
                <td mat-cell *matCellDef="let element"> {{element.NotaFinal}} </td>
            </ng-container>

            <ng-container matColumnDef="estado">
                <th mat-header-cell *matHeaderCellDef>
                    {{"preinscripcion-proyectos-curriculares.estado" | translate}}
                </th>
                <td mat-cell *matCellDef="let element"> {{element.EstadoInscripcionId.Nombre}} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedDetalleColumnsPreinscipcion"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedDetalleColumnsPreinscipcion;"></tr>

        </table>

        <mat-paginator #paginator [pageSize]="3" [showFirstLastButtons]="true"></mat-paginator>

        <br>

        <div style="display: flex; justify-content: center;">
            <div>
                <button class="boton-primary">
                    {{'GLOBAL.continuar' | translate }}
                </button>
            </div>
        </div>

        <br>

    </mat-card-content>

</mat-card>